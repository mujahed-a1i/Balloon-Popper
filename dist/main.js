!function(){"use strict";!function(){class t{static dy=1;constructor(){this.element=document.getElementById("gameScreen"),this.ctx=this.element.getContext("2d"),this.images=["./assets/balloons/pink.png","./assets/balloons/blue.png","./assets/balloons/green.png","./assets/balloons/red.png","./assets/balloons/purple.png","./assets/balloons/yellow.png","./assets/balloons/babyBlue.png","./assets/balloons/darkGreen.png","./assets/balloons/darkRed.png","./assets/balloons/babyPink.png"],this.image=new Image,this.image.src=this.images[Math.floor(Math.random()*this.images.length)],this.image.onload=this.draw.bind(this),this.width=this.image.width,this.height=this.image.height,this.radius=this.image.width/2,this.x=Math.floor(this.radius+Math.random()*(1e3-this.width+1)),this.y=627,this.dx=1,this.dy=.6,this.startAngle=0,this.endAngle=2*Math.PI,this.letter=this.randomLetter(),this.moveCounter=0,this.moveLimit=Math.floor(101*Math.random()+40),this.directions=[this.floatLeft,this.floatRight,this.floatUp],this.direction=[this.floatLeft,this.floatRight,this.floatUp][Math.floor(3*Math.random())]}draw(){this.ctx.drawImage(this.image,this.x,this.y,this.image.width,this.image.height),this.ctx.fillStyle="white",this.ctx.font="25px Arial",this.ctx.textAlign="center",this.ctx.textBaseline="middle",this.ctx.fillText(this.letter,this.x+27,this.y+30)}randomLetter(){return"ABCDEFGHIJKLMNOPQRSTUVWXYZ"[Math.floor(26*Math.random())]}floatRight(){this.x+=this.dx,this.y-=this.dy*t.dy}floatLeft(){this.x-=this.dx,this.y-=this.dy*t.dy}floatUp(){this.y-=this.dy*t.dy}validPos(){return this.x>this.radius&&this.x<1e3-this.image.width/2&&this.y>0}move(){this.moveCounter++,this.validPos()||(this.direction=this.directionExcluder()),this.moveCounter<this.moveLimit&&this.validPos?this.direction():(this.direction=[this.floatLeft,this.floatRight,this.floatUp][Math.floor(3*Math.random())],this.moveCounter=0,this.moveLimit=Math.floor(101*Math.random()+30))}directionExcluder(){this.moveLimit+=300;let t=[];return this.directions.forEach((e=>{e!==this.direction&&e!=this.floatUp&&t.push(e)})),t[0]}}var e=t,s=class{constructor(t,s){this.element=document.getElementById("gameScreen"),this.ctx=this.element.getContext("2d"),this.element.width=t,this.element.height=s,this.balloons=[],this.balloon=new e,this.image=new Image,this.image.src="./assets/sky.jpg"}addBalloon(){let t=new e;return this.balloons.push(t),t}animate(){this.canvas.ctx.clearRect(0,0,this.element.width,this.element.height),requestAnimationFrame((()=>this.animate())),this.balloons.forEach((t=>{t.y>this.balloon.radius&&(t.move(),t.draw())}))}},i=class{constructor(){this.score=0,this.gameScore=document.getElementsByClassName("score")[0],this.life=3,this.gameLife=document.getElementById("lives"),this.canvas=new s(1e3,600),this.missed=0,this.popCounter=0,this.gamePopCounter=document.getElementsByClassName("popCounter")[0],this.balloonCount=5,this.attempts=this.popCounter+this.missed,this.pausedBalloons=[],this.paused=!1,this.openModal=document.getElementById("openModal"),this.closeModal=document.getElementById("closeModal"),this.modal=document.getElementById("instructionModal"),this.restart=document.getElementById("restart");const t=t=>{"Escape"!==t.key&&"Esc"!==t.key||t.preventDefault()};addEventListener("keydown",t),this.openModal.addEventListener("click",(()=>{this.pause(),this.modal.showModal()})),this.closeModal.addEventListener("click",(()=>{document.removeEventListener("keydown",t),this.modal.close(),this.resume(),this.keyStroke()})),this.modal.addEventListener("cancel",(t=>{})),this.newGame=document.getElementById("newGame"),this.restart.addEventListener("click",(()=>{window.location.reload()}))}pause(){this.paused=!0,this.pausedBalloons=[...this.canvas.balloons],this.canvas.balloons=[]}keyStroke(){addEventListener("keydown",(t=>this.pop(t)))}start(){this.canvas.balloons.push(new e,new e,new e,new e,new e),this.pause(),this.modal.showModal()}reset(){this.life=3,this.score=0,this.missed=0,this.popCounter=0,this.balloonCount=5,this.attempts=this.popCounter+this.missed,this.pausedBalloons=[],this.canvas.balloons=[],this.gameScore.textContent=`Score: ${this.score}`,this.gameLife.textContent=`Lives: ${this.life}`,this.gamePopCounter.textContent=`Balloons Popped: ${this.popCounter}`,this.start()}end(){if(0===this.life){this.canvas.balloons=[],this.endGameModal=document.getElementById("endStats");let t=document.getElementsByClassName("score")[1],e=document.getElementsByClassName("popCounter")[1],s=document.getElementsByClassName("missedBalloons")[0],i=document.getElementsByClassName("attempts")[0],o=document.getElementsByClassName("accuracy")[0];this.attempts=this.popCounter+this.missed;let a=Math.floor(this.popCounter/this.attempts*100);t.textContent=`Score: ${this.score}`,e.textContent=`Balloons Popped: ${this.popCounter}`,s.textContent=`Missed balloons: ${this.missed}`,i.textContent=`Total Attempts: ${this.attempts}`,o.textContent=`Accuracy: ${a}%`,document.removeEventListener("keydown",this.popFunction),this.endGameModal.showModal(),this.newGame.addEventListener("click",(()=>{window.location.reload()}))}}newGame(){this.canvas.balloons=[],this.canvas.balloons.push(new e,new e,new e,new e,new e),this.score=0,this.life=3,this.missed=0,this.popCounter=0,this.balloonCount=5,this.animate()}resume(){this.paused=!1,this.canvas.balloons=[...this.pausedBalloons],this.pausedBalloons=[],this.animate()}animate(){this.paused||(this.increaseBalloonSpeed(),this.canvas.ctx.clearRect(0,0,1e3,600),requestAnimationFrame((()=>this.animate())),this.canvas.balloons.forEach(((t,e)=>{this.end(),t.y<=0&&(this.missed++,this.loseLife(),this.canvas.balloons.splice(e,1),this.life>0&&this.canvas.addBalloon()),t.y>0&&(t.move(),t.draw())})))}loseLife(){this.life--,this.life>=0&&(this.gameLife.textContent=`Lives: ${this.life}`)}pop(t){if(this.life>0&&t.keyCode>64&&t.keyCode<91){let e=!1;for(let s=0;s<this.canvas.balloons.length;s++){let i=this.canvas.balloons[s];if(t.key.toUpperCase()===i.letter){this.canvas.balloons.splice(s,1),this.score++,this.gameScore.textContent=`Score: ${this.score}`,this.canvas.addBalloon(),this.balloonCount++,e=!0,this.popCounter++,this.gamePopCounter.textContent=`Balloons Popped: ${this.popCounter}`;break}}e||(this.score--,this.gameScore.textContent=`Score: ${this.score}`,this.missed++)}}increaseBalloonSpeed(){this.score>0&&this.score%10==0&&(e.dy*=1.0015)}};document.addEventListener("DOMContentLoaded",(()=>{(new i).start()}))}()}();
//# sourceMappingURL=main.js.map